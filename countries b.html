<html>
    <head> <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    </head>

    <body>
         <input type="text" onkeyup="au()" id="fd">
        <button onclick="abc()">Countries</button>
        <button onclick="tbs()">Table</button>

        <button onclick="As()" >Ascending</button>
        <button onclick="Ds()">Descending</button>

        <ul id="dd">
            
        </ul>
        <table id="tb" style="border:1px solid">
            <thead id="tw"></thead>
            <tfoot id="tf"></tfoot>
        </table>
        <script>
            var n=document.getElementById('fd')
         
           var d=document.getElementById('dd')
        
            function abc(){
                $.get("https://restcountries.com/v3.1/all",function(a,b){
                function genUi(z){
                    d.innerHTML=""
                    a.forEach(function(value,index){
                       var c=document.createElement('li')
                       c.innerHTML=value.name.common
                       c.style.display='inline-block'
                       c.style.padding="20px"
                       c.style.textAlign='center'
                       c.style.border='2px solid black'
                       c.style.margin='10px'
                       d.appendChild(c)
                       var im=document.createElement('img')
                       im.src=value.flags.svg
                       im.style.width='200px'
                       im.style.height='100px'
                       im.style.display='flex'
                       c.appendChild(im)
                    })
                }
                genUi()
                })
            

            }


            function As(){
                $.get("https://restcountries.com/v3.1/all",function(a,b){
                    a.sort(function(a,b){
                       if(a.name.common<b.name.common){
                        return -1
                       }
                       if(a.name.common>b.name.common){
                        return 1
                       }
                       return 0
                    })
                    d.innerHTML=''
                    a.forEach(function(value,index){
                      
                       var c=document.createElement('li')
                       c.innerHTML=value.name.common
                       c.style.display='inline-block'
                       c.style.padding="20px"
                       c.style.textAlign='center'
                       c.style.border='2px solid black'
                       c.style.margin='10px'
                       d.appendChild(c)
                       var im=document.createElement('img')
                       im.src=value.flags.svg
                       im.style.width='200px'
                       im.style.height='100px'
                       im.style.display='flex'
                       c.appendChild(im)
                    })

                })
                

             // genUi()
             }
            


             function Ds(){
                $.get("https://restcountries.com/v3.1/all",function(a,b){
                    a.sort(function(a,b){
                       if(a.name.common>b.name.common){
                        return -1
                       }
                       if(a.name.common<b.name.common){
                        return 1
                       }
                       return 0
                    })
                    d.innerHTML=""
                    a.forEach(function(value,index){
                      
                       var c=document.createElement('li')
                       c.innerHTML=value.name.common
                       c.style.display='inline-block'
                       c.style.padding="20px"
                       c.style.textAlign='center'
                       c.style.border='2px solid black'
                       c.style.margin='10px'
                       d.appendChild(c)
                       var im=document.createElement('img')
                       im.src=value.flags.svg
                       im.style.width='200px'
                       im.style.height='100px'
                       im.style.display='flex'
                       c.appendChild(im)
                    })

                })
                

             // genUi()
             }



             var tab=document.getElementById('tf')
             var t=document.getElementById('tw')
             var rt=document.createElement('tr')
                    var th=document.createElement('th')
                    th.innerHTML='CountryName'
                    th.style.border='1px solid black'
                    rt.appendChild(th)
                    var et=document.createElement('th')
                    et.innerHTML='Flag'
                    et.style.border='1px solid black'
                    rt.appendChild(et)
                    var ft=document.createElement('th')
                    ft.innerHTML="population"
                    ft.style.border='1px solid black'
                    rt.appendChild(ft)
                    var gt=document.createElement('th')
                    gt.innerHTML="StartOfWeek"
                    gt.style.border='1px solid black'
                    rt.appendChild(gt)
                    t.appendChild(rt)
                    

             
             
             function tbs(){
                $.get("https://restcountries.com/v3.1/all",function(ta,val){
                 d.innerHTML=""
                  ta.forEach(function(value,index){
                    var tr=document.createElement('tr')
                    var td=document.createElement('td')
                    td.innerHTML=value.name.common
                    td.style.border='1px solid black'
                    tr.appendChild(td)
                    var te=document.createElement('img')
                    te.src=value.flags.svg
                    te.style.border='1px solid black'
                    te.style.width="100px"
                    tr.appendChild(te)
                    var tf=document.createElement('td')
                    tf.innerHTML=value.population
                    tf.style.border='1px solid black'
                    tr.appendChild(tf)
                    var tg=document.createElement('td')
                    tg.innerHTML=value.startOfWeek
                    tg.style.border='1px solid black'
                    tr.appendChild(tg)
                    tab.appendChild(tr)
                
                  })
             })
             }
             
          function au(){
            $.get("https://restcountries.com/v3.1/all",function(ou,val){
               var m= ou.filter(function(value,i){
                return(value.name.common.toLowerCase().startsWith(n.value.toLowerCase()))
               })
              
              d.innerHTML=""
              t.style.display='none'
               m.forEach(function(value,index){
                       var c=document.createElement('li')
                       c.innerHTML=value.name.common
                       c.style.display='inline-block'
                       c.style.padding="20px"
                       c.style.textAlign='center'
                       c.style.border='2px solid black'
                       c.style.margin='10px'
                       d.appendChild(c)
                       var im=document.createElement('img')
                       im.src=value.flags.svg
                       im.style.width='200px'
                       im.style.height='100px'
                       im.style.display='flex'
                       c.appendChild(im)
                    })
          })
   }
             
           

          
           
        </script>
    </body>

</html>